(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function u(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=u(o);fetch(o.href,r)}})();var v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},y={exports:{}},j=y.exports,L;function B(){return L||(L=1,function(d,l){(function(u,a){a()})(j,function(){function u(e,t){return typeof t>"u"?t={autoBom:!1}:typeof t!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e}function a(e,t,c){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){m(n.response,t,c)},n.onerror=function(){console.error("could not download file")},n.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof v=="object"&&v.global===v?v:void 0,g=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),m=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!g?function(e,t,c){var n=i.URL||i.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin===location.origin?r(s):o(s.href)?a(e,t,c):r(s,s.target="_blank")):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){r(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,c){if(t=t||e.name||"download",typeof e!="string")navigator.msSaveOrOpenBlob(u(e,c),t);else if(o(e))a(e,t,c);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){r(n)})}}:function(e,t,c,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return a(e,t,c);var s=e.type==="application/octet-stream",S=/constructor/i.test(i.HTMLElement)||i.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||s&&S||g)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var p=w.result;p=E?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},w.readAsDataURL(e)}else{var b=i.URL||i.webkitURL,h=b.createObjectURL(e);n?n.location=h:location.href=h,n=null,setTimeout(function(){b.revokeObjectURL(h)},4e4)}});i.saveAs=m.saveAs=m,d.exports=m})}(y)),y.exports}var F=B();const T=document.getElementById("fileInput"),O=document.getElementById("firstNum"),x=document.getElementById("output"),R=document.getElementById("saveBtn");let f;T.addEventListener("change",N);O.addEventListener("change",M);R.addEventListener("click",U);function N(d){f=d.target.files[0],f&&(R.style.display="block",A(f))}function M(){f&&A(f)}function U(){F.saveAs(new Blob([x.textContent]),f.name.slice(0,f.name.indexOf(".")))}function A(d){const l=new FileReader;l.onload=function(u){try{const a=JSON.parse(u.target.result);x.textContent=_(a,Number(O.value))}catch(a){console.error("Помилка парсингу JSON:",a)}},l.readAsText(d)}function _(d,l){const u=d.coordinates[0][0];if(u)return u.reduce((a,o,r,i)=>a+=`${l+r}, ${o[1]}, ${o[0]}, ${o[2]?o[2]:"0.00"}${r===i.length-1?"":`
`}`,"")}
